
# 중복코드(Duplicated Code)

코드를 작성하다 보면 완전히 같은 코드 또는 비슷한 코드가 생길 수 있다.
그리고 같은 구조로도 코드를 작성 할 때가 있다.

## 중복 코드의 단점
- 비슷한지, 완전히 동일한지 주의 깊게 들여다 봐야 코드를 이해할 수 있다.
- 코드를 변경해야할 때 동일한 모든 곳의 코드를 변경해야한다.

## 사용할 수 있는 리팩토링 기술
- 함수 추출하기(Extract Function) : 동일한 코드를 여러 메소드에서 사용하는 경우   
  다른 냄새들을 재거할 때도 유용하게 사용 가능하다.
- 코드 분리하기(Slide Statements) : 코드가 비슷하게 생겼지만 완전히 같지는 않은 경우
  Statements의 위치를 조정하는 방법
- 메소드 올리기(Pull Up Method) : 여러 하위 클래스에 동일한 코드가 있는 경우  
  상속 구조에 있을 때 동일한 코드가 있으면 상위 클래스로 올리는 방법

## 함수 추출하기(Extract Function)
- 분리하는 기준은 "의도" 와 "구현"을 기준으로 분리하는 것이 좋다.
- 코드를 이해 할 때 무슨일을 해야하는지 알아내야한다면 그것은 구현을 드러내는 코드로 볼 수 있다.
  이것을 어떤 의도를 가진 메서드로 만들어 구분하는 것이 함수 추출하기이다.
- 거대한 함수 안에 들어있는 주석은 추출한 함수를 찾는데 좋은 단서이다.
- Command + Option + M 단축키를 이용해서 쉽게 리팩토링 가능하다.

## 코드 정리하기
- 관련 있는 코드끼리 묶는 방법이다.
- 모든 변수를 위에 정의하는 것 보다는 사용되기 직전에 정의하는 것이 좋다.
- 다른 리팩토링을 하기 위한 전처리 작업으로 많이 사용된다.

## 메서드 올리기
- 상속 구조에서 하위클래스에서 중복된 것을 상위 클래스에서 사용하는 방법이다.
- 비슷하지만 일부만 다른 경우라면 "함수 매개변수화하기" 리팩토링을 적용한 후 이 방법을 사용 가능하다. 
- 하위 클래스에 있는 코드가 상위 클래스가 아닌 하위 클래스 기능에 의존하고 있다면 필드 올리기를 적용한 이후에 적용 가능하다.
- 두 메서드가 비슷한 절차를 따르고 있다면 "템플리 메소드 패턴" 적용을 고려해야한다.