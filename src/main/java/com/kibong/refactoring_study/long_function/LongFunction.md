# 긴 함수 Long Function

코드 한줄을 읽더라도 의미를 파악하면서 읽어야 한다면 리팩토링이 필요하다.  
함수가 길면 길수록 더욱 이해하기가 어렵지만 짧은 함수 또한 더 많은 문맥 전환을 필요로 할 수 있다.  
좋은 함수를 만들기 위해서는 작은 함수로 의미를 한 눈에 보기 쉬운 함수가 좋은 함수라고 할 수 있다.  
긴 함수를 리팩토링할 때에는 주석을 잘 보면서 작업하면 의미를 잘 파악하며 리팩토링 할 수 있다.

## 사용 가능한 리팩토링 기술
대부분은 함수 추출하기로 해결 가능하다.  
- 근데 함수를 분리하면서 전달해야할 매개변수가 많아진다면.
  - 임시 변수를 질의 함수로 바꾸기(Replace Temp with Query)
  - 매개변수 객체 만들기(Introduce Parameter Object)
  - 객체 통째로 넘기기(Preserve Whole Object)
- 조건문이 많아진다면
  - 조건문 분해하기(Decompose Conditional)
- 같은 조건으로 여러개 Switch 문이 있다면
  - 조건문을 다형성으로 바꾸기 (Replace Conditional with Polymorphism)
- 반복문을 여러개 작업 한다면
  - 반복문 쪼개기(Split Loop)

위와 같은 리팩토링 기술들을 사용하며 긴 함수를 리팩토링 할 수 있다.

## 임시 변수를 질의 함수로 바꾸기(Replace Temp with Query)
표현식 자체가 여러번 반복 된다거나 파라미터가 많아진다면 함수 내부를 줄 일 수 있다.  
기존 파라미터로 이미 파악할 수 있는 정보라면 함수 추출하기를 통해 리팩토링을 진행하는 것이 매우 좋다.

## 매개변수 객체 만들기(Introduce Parameter Object)
같은 매개변수들이 여러 메소드에 나타난다면 그것들을 묶은 구조를 만드는 방법이다.
- 데이터간 관계를 보다 명시적으로 나타낼 수 있다.
- 함수에 전달할 파라미터 개수를 줄일 수 있다.
- 도메인을 이해하는데 중요한 클래스로 발전 간능하다.

## 객체 통째로 넘기기(Preserve Whole Object)
파라미터가 레코드의 오브젝트 하나인 경우 이 리팩토링을 사용 가능하다.
- 파라미터를 줄일 수 있다.
- 이 리팩토링을 적용할 때 주의점은 이 메서드가 파라미터에 의존하고 있는가?를 고려해야한다.
- 이 리팩토링을 적용한 함수의 위치가 적절한지도 고려해야한다.

## 함수를 명령으로 바꾸기(Replace Function with Command)
커멘드 페턴으로 만드는 리팩토링이다.  
- 긴 메서드를 간추리기 좋다.
- 복잡도를 낮출 수 있다.
- 대부분의 경우에 “커맨드” 보다는 “함수”를 사용하지만, 커맨드 말고 다른 방법이 없는 경우에만 사용
한다.
## 조건문 분해하기(Decompose Conditional)
조건문을 쓰다보면 조건의 조건 또는 조건이해야할 일 아닐 때 해야할 일을 쓰다 보면 함수가 길어진다.
그것을 함수로 빼내면서 의도를 만들어주는 리팩토링 기술이다.
- 조건과 액션 모두 의도를 표현해야한다.
- 기술적으로는 함수 추출하기와 동일한 리팩토링이다.


